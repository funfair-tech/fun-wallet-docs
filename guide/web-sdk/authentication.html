<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Authentication | FunFair Wallet Documentation</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/fun-wallet-docs/logo.svg">
    <link rel="manifest" href="/fun-wallet-docs/manifest.json">
    <link rel="apple-touch-icon" href="/fun-wallet-docs/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/fun-wallet-docs/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="Welcome">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/fun-wallet-docs/assets/css/0.styles.2a23e29f.css" as="style"><link rel="preload" href="/fun-wallet-docs/assets/js/app.46569879.js" as="script"><link rel="preload" href="/fun-wallet-docs/assets/js/2.ed1124da.js" as="script"><link rel="preload" href="/fun-wallet-docs/assets/js/36.86e2f3c0.js" as="script"><link rel="preload" href="/fun-wallet-docs/assets/js/5.b1c6dba4.js" as="script"><link rel="prefetch" href="/fun-wallet-docs/assets/js/10.1fc259ec.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/11.e9e5a9af.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/12.7734cd4b.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/13.d774358d.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/14.44091245.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/15.487685f6.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/16.c313f203.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/17.22711cfc.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/18.7463cfe7.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/19.4b193deb.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/20.b69f7de3.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/21.84374f73.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/22.c3a31f03.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/23.3dc9529e.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/24.bf73281c.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/25.460cc3bf.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/26.608e06f1.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/27.c2d0f292.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/28.48b73243.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/29.f680e3b1.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/3.9a3f16a7.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/30.4801961a.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/31.8432056a.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/32.0510c52a.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/33.98efff3d.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/34.564c4fb3.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/35.0f285276.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/37.eadcddb5.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/38.1e370fed.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/39.1788f379.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/4.e2554563.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/40.f44a2227.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/41.926f1931.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/42.54b95f6d.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/43.31fa7f20.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/44.612967de.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/45.ec74bf2f.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/46.4bafbb6e.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/47.9e5d2b9e.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/48.0f7bf1de.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/49.0d62712b.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/50.02c321c9.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/6.ebfbf5b0.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/7.57e275c0.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/8.a1823884.js"><link rel="prefetch" href="/fun-wallet-docs/assets/js/9.19a2fac2.js">
    <link rel="stylesheet" href="/fun-wallet-docs/assets/css/0.styles.2a23e29f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fun-wallet-docs/" class="home-link router-link-active"><img src="/fun-wallet-docs/logo.svg" alt="FunFair Wallet Documentation" class="logo"> <span class="site-name can-hide">FunFair Wallet Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fun-wallet-docs/guide/" class="nav-link router-link-active">
  Guide
</a></div> <a href="https://github.com/funfair-tech/fun-wallet-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fun-wallet-docs/guide/" class="nav-link router-link-active">
  Guide
</a></div> <a href="https://github.com/funfair-tech/fun-wallet-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Information</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fun-wallet-docs/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/fun-wallet-docs/guide/information/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/fun-wallet-docs/guide/information/browser-support.html" class="sidebar-link">Browser Support</a></li><li><a href="/fun-wallet-docs/guide/information/testing.html" class="sidebar-link">Our Testing</a></li><li><a href="/fun-wallet-docs/guide/information/layouts.html" class="sidebar-link">Layouts</a></li><li><a href="/fun-wallet-docs/guide/information/branding.html" class="sidebar-link">Branding</a></li><li><a href="/fun-wallet-docs/guide/information/kyc.html" class="sidebar-link">KYC</a></li><li><a href="/fun-wallet-docs/guide/information/fiat-gateway.html" class="sidebar-link">Fiat Gateway</a></li><li><a href="/fun-wallet-docs/guide/information/approval-modal.html" class="sidebar-link">Approval Modals</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Web SDK</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fun-wallet-docs/guide/web-sdk/installing-sdk.html" class="sidebar-link">Installing the FunFair Wallet SDK</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/react.html" class="sidebar-link">Integrating with a react app</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/angular.html" class="sidebar-link">Integrating with a angular app</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/vue.html" class="sidebar-link">Integrating with a vue app</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/native-js.html" class="sidebar-link">Integrating with a native js app</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/another-framework.html" class="sidebar-link">Integrating with another framework</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/authentication.html" aria-current="page" class="active sidebar-link">Authentication</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fun-wallet-docs/guide/web-sdk/authentication.html#login" class="sidebar-link">Login</a></li><li class="sidebar-sub-header"><a href="/fun-wallet-docs/guide/web-sdk/authentication.html#logout" class="sidebar-link">Logout</a></li><li class="sidebar-sub-header"><a href="/fun-wallet-docs/guide/web-sdk/authentication.html#tolerate-refresh" class="sidebar-link">Tolerate Refresh</a></li></ul></li><li><a href="/fun-wallet-docs/guide/web-sdk/routing.html" class="sidebar-link">Routing and Deep Linking</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/languages.html" class="sidebar-link">Languages</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/ethereum-provider.html" class="sidebar-link">Ethereum Provider</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/sdk-methods.html" class="sidebar-link">SDK Methods</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/sdk-event-listeners.html" class="sidebar-link">SDK Event Listeners</a></li><li><a href="/fun-wallet-docs/guide/web-sdk/block-listener.html" class="sidebar-link">Block listener</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Server &gt; Server API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fun-wallet-docs/guide/server-to-server-api/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/fun-wallet-docs/guide/server-to-server-api/authorization.html" class="sidebar-link">Authorization</a></li><li><a href="/fun-wallet-docs/guide/server-to-server-api/user-information.html" class="sidebar-link">User information</a></li><li><a href="/fun-wallet-docs/guide/server-to-server-api/encrypted-user-information.html" class="sidebar-link">Encrypted user information</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>How Does It Work?</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fun-wallet-docs/guide/how-does-it-work/how-authentication-works.html" class="sidebar-link">How Authentication Works</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/registration.html" class="sidebar-link">Registration</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/login-and-recovery-token-generation.html" class="sidebar-link">Login and Recovery Token Generation</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/recovery.html" class="sidebar-link">Recovery</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/re-authentication.html" class="sidebar-link">Re-authentication</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/how-is-the-authentication-secure.html" class="sidebar-link">How is the Authentication Secure?</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/how-popup-authenticates-leader.html" class="sidebar-link">How the Authenticated Popup Authenticates the Leader</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/leader-and-follower-communication.html" class="sidebar-link">Leader and Follower Communication</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/how-broadcast-works.html" class="sidebar-link">How Broadcast Works</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/fun-wallet-sdk.html" class="sidebar-link">FunFair Wallet SDK</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/fun-wallet-ethereum-provider.html" class="sidebar-link">FunFair Wallet Ethereum Provider</a></li><li><a href="/fun-wallet-docs/guide/how-does-it-work/blooms.html" class="sidebar-link">Blooms</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="authentication"><a href="#authentication" class="header-anchor">#</a> Authentication</h1> <p>It's up to the integration to show the user the login and logout buttons, which allows flexibility on designs.</p> <h2 id="login"><a href="#login" class="header-anchor">#</a> Login</h2> <p>Register a click event on the element you want to trigger the Wallet login modal.</p> <p>Example:</p> <h3 id="typescript"><a href="#typescript" class="header-anchor">#</a> TypeScript</h3> <div class="language-ts extra-class"><pre class="language-ts"><code> <span class="token keyword">import</span> window <span class="token keyword">from</span> <span class="token string">'@funfair-tech/wallet-sdk/window'</span><span class="token punctuation">;</span>
 <span class="token keyword">public</span> <span class="token function">openAuthenticationPopUpWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>funwallet<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span><span class="token function">openWalletAuthenticationPopUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token function">openAuthenticationPopUpWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>funwallet<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span><span class="token function">openWalletAuthenticationPopUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This will load a window popup for the user to enter their login details. Once logged in it will fire <a href="/fun-wallet-docs/guide/web-sdk/sdk-event-listeners.html#authenticationcompleted">authenticationCompleted</a>, which you will need to have registered to so you can listen out for success. If the user closes the authentication popup it will fire <a href="/fun-wallet-docs/guide/web-sdk/sdk-event-listeners.html#authenticationpopupclosed">authenticationPopUpClosed</a>, which you can listen out for if you want to know when that happens.</p> <h2 id="logout"><a href="#logout" class="header-anchor">#</a> Logout</h2> <p>Register a click event on the element you want to trigger the logout of the Wallet.</p> <h3 id="typescript-2"><a href="#typescript-2" class="header-anchor">#</a> TypeScript</h3> <div class="language-ts extra-class"><pre class="language-ts"><code> <span class="token keyword">import</span> window <span class="token keyword">from</span> <span class="token string">'@funfair-tech/wallet-sdk/window'</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> window<span class="token punctuation">.</span>funwallet<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div><h3 id="javascript-2"><a href="#javascript-2" class="header-anchor">#</a> JavaScript</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">function</span> <span class="token keyword">async</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> window<span class="token punctuation">.</span>funwallet<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>This will log all the instances out of the Wallet. Also, if the inactivity time is reached, all instances of the Wallet will be logged out, which fires a <a href="/fun-wallet-docs/guide/web-sdk/sdk-event-listeners.html#walletinactivityloggedout">walletInactivityLoggedOut</a> event that you should hook onto. This can also fire if a user deletes a device from their approved device screen <a href="/fun-wallet-docs/guide/web-sdk/sdk-event-listeners.html#walletdevicedeletedloggedout">walletDeviceDeletedLoggedOut</a>. If any of these events fire, the dApp needs to update its state back to a logged-out state.</p> <h2 id="tolerate-refresh"><a href="#tolerate-refresh" class="header-anchor">#</a> Tolerate Refresh</h2> <p>As the server never sees the private key and all the decryption of it happens on the client side, once you refresh your tab, your private key is no longer in memory, as we got back to it using data the user entered which again is not on the server like password. We have handled a way to restore authentication on a refresh. See this as a loading state on refresh. You will need to make sure you handle the event listener <a href="/fun-wallet-docs/guide/web-sdk/sdk-event-listeners.html#restoreauthenticationcompleted">restoreAuthenticationCompleted</a>, which is documented in the <a href="/fun-wallet-docs/guide/web-sdk/sdk-event-listeners.html">SDK listeners</a> documentation. This is all shown in the test app and code samples within react, angular and vue.</p> <p>Read more about how it works <a href="/fun-wallet-docs/guide/how-does-it-work/re-authentication.html#double-encrypted-localstorage-setup">here</a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/funfair-tech/fun-wallet-docs/edit/master/packages/docs/dist/guide/web-sdk/authentication.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/15/2020, 1:20:46 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/fun-wallet-docs/guide/web-sdk/another-framework.html" class="prev">
        Integrating with another framework
      </a></span> <span class="next"><a href="/fun-wallet-docs/guide/web-sdk/routing.html">
        Routing and Deep Linking
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/fun-wallet-docs/assets/js/app.46569879.js" defer></script><script src="/fun-wallet-docs/assets/js/2.ed1124da.js" defer></script><script src="/fun-wallet-docs/assets/js/36.86e2f3c0.js" defer></script><script src="/fun-wallet-docs/assets/js/5.b1c6dba4.js" defer></script>
  </body>
</html>
